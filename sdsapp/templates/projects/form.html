{% extends 'shared/base.html' %}

{% block content %}

    {% if project.id is not None %}
        <h1><center>Edit Project</center></h1>
        <div class="card" style="width: 50rem; margin-left: auto; margin-right: auto;">
            <div class="card-body">
                <form action="{% url 'sdsapp:project' project.id %}" method="post">
    {% else %}
        <h1><center>New Project</center></h1>
        <div class="card" style="width: 50rem; margin-left: auto; margin-right: auto;">
            <div class="card-body">
                <form action="{% url 'sdsapp:projects' %}" method="post">
    {% endif %}

            {% csrf_token %}
            <div class="form-group row">
                <label for="project" class="col-sm-2 col-form-label">Project Name: </label>
                <div class="col-sm-10">
                    <input id="project" type="text" class="form-control" name="project" value="{{ project.name }}" required>
                </div>
            </div>

            <div class="form-group row">
                <label for="subject" class="col-sm-2 col-form-label">Subject: </label>
                <div class="col-sm-10">
                    <select id="subject" type="text" class="form-control" name="subject" required>
                    {% for subject in all_subjects %}
                        <option {% if subject.id == project.subject_id %}selected{% endif %}  value="{{ subject.id }}">{{ subject.name }}</option>
                    {% endfor %}
                    </select>
                    <button><a href=/subject/form>Add New Subject</a></button>
                </div>
            </div>

            <div class="form-group row">
                <label for="grade" class="col-sm-2 col-form-label">Grade: </label>
                <div class="col-sm-10">
                    <select id="grade" type="text" class="form-control" name="grade" required>
                    {% for grade in all_grades %}
                        <option {% if grade.id == project.grade_id %}selected{% endif %} value="{{ grade.id }}">{{ grade.name }}</option>
                    {% endfor %}
                    </select>
                </div>
            </div>

            <div class="form-group row">
                <label for="supplies" class="col-sm-2 col-form-label">Supplies: </label>
                <div class="col-sm-10">
                    <textarea id="supplies" class="form-control" name="supplies" rows="3" required>{{ project.supplies_needed }}</textarea>
                </div>
            </div>

            <div class="form-group row">
                <label for="decription" class="col-sm-2 col-form-label">Description: </label>
                <div class="col-sm-10">
                    <textarea id="description" class="form-control" name="description" rows="3" required>{{ project.description }}</textarea>
                </div>
            </div>
            
            <div class="form-group row" >
                <label for="instruction" class="col-sm-2 col-form-label">Instructions: </label>
                <div class="col-sm-10">
                    <textarea id="instruction" class="form-control" name="instruction" rows="3" required>{{ project.instruction }}</textarea>
                </div>
            </div>

            {% if project.id is not None %}
                <input type="hidden" name="actual_method" value="PUT">
                <center><button type="submit" class="btn btn-primary">Update</button></center>
            {% else %}
                <center><button type="submit" class="btn btn-primary">Create</button></center>
            {% endif %}        
            </form>
        </div>
    </div>
{% endblock %}